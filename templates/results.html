{% extends 'base.html' %}



{% block head %}
<script>
window.addEventListener("load", function (e) {
    const row = document.querySelector(".result_row");
    const artist = document.querySelector(".artist");
    const title = document.querySelector(".title");
    const genre = document.querySelector(".genre");

    row.addEventListener("click", function () {
        localStorage.setItem("title", title.value);
        localStorage.setItem("artist", artist.value);
        localStorage.setItem("genre", genre.value);
        window.location.href = "result_single.html";
    });
},false)
</script>
{% endblock %}

{% block body %}
    <div id="wrapper">
        <main>
    {% if sgs | length != 0 %}
    <h1>Results</h1>
    <table>
        <thead>
            <th>Title</th>
            <th>Artist</th>
            <th>Genre</th>
        </thead>
        {% for s in sgs %}
        <tr class="result_row">
            <td class="title">{{ s[1] }}</td>
            <td class="artist">{{ s[3] }}</td>
            <td class="genre">{{ s[4] }}</td>
            <td><img src="../static/heart icon.png" alt="outlined heart" width="10px"></td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <h1 id="less_padding_btm">Oh no!</h1>
    <div id="no_results">
        <img src="../static/No search.jpg" alt="magnifying glass with no findings" id="no_results_img">
        <p>Sorry, we couldn't find what you were looking for.</br>Try searching for another title, artist or some lyrics.</p>
    </div>
    {% endif %}
</main>
</div>
{% endblock %}